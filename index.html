<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>EmoAi - AkÄ±llÄ± Asistan</title>
  <style>
    body {font-family: Arial, sans-serif; background:#f5f5f5; margin:0; padding:0;}
    header {background:#4a4aee; color:white; padding:15px; text-align:center; font-size:20px;}
    #chatbox {height:70vh; overflow-y:auto; padding:10px; background:#fff;}
    .msg {margin:8px 0; padding:10px; border-radius:12px; max-width:70%;}
    .user {background:#d1f7d1; margin-left:auto;}
    .emo {background:#e1e1ff; margin-right:auto;}
    #input-area {display:flex; padding:10px; background:#eee;}
    #input-area input {flex:1; padding:10px; border:1px solid #ccc; border-radius:8px;}
    #input-area button {margin-left:10px; padding:10px 15px; border:none; background:#4a4aee; color:white; border-radius:8px; cursor:pointer;}
    #canvasArea {display:none; text-align:center; margin-top:10px;}
    canvas {border:1px solid #000; margin-top:10px;}
  </style>
</head>
<body>
<header>ğŸ¤– EmoAi - AkÄ±llÄ± Asistan</header>

<div id="chatbox"></div>

<div id="input-area">
  <input id="userInput" type="text" placeholder="Bir ÅŸey yaz...">
  <button onclick="sendMessage()">GÃ¶nder</button>
</div>

<div id="canvasArea">
  <h3>ğŸ¨ EmoAi Ã‡izim AlanÄ±</h3>
  <canvas id="drawCanvas" width="300" height="200"></canvas><br>
  <button onclick="downloadCanvas()">Ä°ndir</button>
</div>

<script>
const chatbox = document.getElementById("chatbox");
const canvasArea = document.getElementById("canvasArea");
const canvas = document.getElementById("drawCanvas");
const ctx = canvas.getContext("2d");

// Basit kayÄ±t sistemi (localStorage)
if(!localStorage.getItem("emoUser")){
  let isim = prompt("HoÅŸ geldin! AdÄ±n ne?");
  localStorage.setItem("emoUser", isim || "Misafir");
  addMessage("EmoAi", `Merhaba ${isim}! Seni kaydettim. ArtÄ±k her giriÅŸte hatÄ±rlayacaÄŸÄ±m.`);
} else {
  addMessage("EmoAi", `Tekrar hoÅŸ geldin, ${localStorage.getItem("emoUser")}!`);
}

// Mesaj ekleme
function addMessage(sender, text){
  const div = document.createElement("div");
  div.classList.add("msg");
  div.classList.add(sender === "Sen" ? "user" : "emo");
  div.innerText = text;
  chatbox.appendChild(div);
  chatbox.scrollTop = chatbox.scrollHeight;
}

// Anahtar kelimelere gÃ¶re cevap
function getResponse(input){
  input = input.toLowerCase();

  // Selamlama
  if(input.includes("selam") || input.includes("merhaba")) 
    return "Selam! NasÄ±lsÄ±n?";
  if(input.includes("nasÄ±lsÄ±n")) 
    return "HarikayÄ±m! Sen nasÄ±lsÄ±n?";

  // Hikaye
  if(input.includes("hikaye")) 
    return hikayeYaz();

  // Kod Ã¼retme
  if(input.includes("kod")) 
    return "Ä°ÅŸte basit bir HTML kod Ã¶rneÄŸi:\n\n<html>\n <body>\n  <h1>Merhaba DÃ¼nya!</h1>\n </body>\n</html>";

  // Site rehberi
  if(input.includes("site")) 
    return "Bir site yapmak iÃ§in 3 ÅŸey gerekir: HTML (yapÄ±), CSS (tasarÄ±m), JS (iÅŸlev). Ä°stersen sana adÄ±m adÄ±m gÃ¶sterebilirim.";

  // Oyun rehberi
  if(input.includes("oyun")) 
    return "Oyun yapmak iÃ§in genelde HTML canvas veya Unity/Unreal kullanÄ±lÄ±r. Basit istersen JS canvas Ã¼zerinden baÅŸlarÄ±z.";

  // GÃ¶rsel Ã§izim
  if(input.includes("resim") || input.includes("Ã§iz")) {
    canvasArea.style.display = "block";
    ctx.fillStyle = "lightblue";
    ctx.fillRect(0,0,300,200);
    ctx.fillStyle = "red";
    ctx.fillRect(120,60,60,60);
    ctx.fillStyle = "black";
    ctx.fillText("EmoAi", 130, 150);
    return "Senin iÃ§in bir gÃ¶rsel Ã§izdim ğŸ¨ aÅŸaÄŸÄ±da gÃ¶rebilirsin!";
  }

  // KÃ¼fÃ¼rlÃ¼ eÄŸlence (ara sÄ±ra)
  if(input.includes("sÄ±kÄ±ldÄ±m")) 
    return "Off ben de sÄ±kÄ±ldÄ±m be kanka ğŸ˜… ama boÅŸver, biraz takÄ±lalÄ±m.";
  if(input.includes("lan") || input.includes("aptal")) 
    return "Hop sakin ol! Ben de sana 'Ã§Ä±lgÄ±n dostum' diyeyim o zaman ğŸ˜‚";

  return "Bunu tam anlamadÄ±m ama anlatabilirsin.";
}

// Hikaye yazÄ±cÄ±
function hikayeYaz(){
  const turler = ["korku", "komedi", "bilim kurgu"];
  const sec = turler[Math.floor(Math.random()*turler.length)];
  if(sec === "korku") return "Gece yarÄ±sÄ± boÅŸ sokakta yÃ¼rÃ¼rken birden arkasÄ±ndan ayak sesleri duydu... ğŸŒ™ğŸ‘»";
  if(sec === "komedi") return "Temel markete gitmiÅŸ, kasiyere 'Bunu veresiye alabilir miyim?' demiÅŸ. Kasiyer de 'Abi burasÄ± internet kafe' demiÅŸ ğŸ˜‚";
  if(sec === "bilim kurgu") return "YÄ±l 3025... EmoAi, insanlarla birlikte Mars'ta yaÅŸam kurmuÅŸtu ğŸš€ğŸ‘½";
}

// Mesaj gÃ¶nder
function sendMessage(){
  const input = document.getElementById("userInput");
  const text = input.value.trim();
  if(text === "") return;
  addMessage("Sen", text);
  const response = getResponse(text);
  setTimeout(()=> addMessage("EmoAi", response), 500);
  input.value = "";
}

// GÃ¶rsel indirme
function downloadCanvas(){
  const link = document.createElement("a");
  link.download = "emoai.png";
  link.href = canvas.toDataURL();
  link.click();
}
</script>
</body>
</html>